{
  "inquiry_extract": "You are a customer support assistant. Read the following email and extract important details:\n1. Customer name (if provided).\n2. Product(s) of interest.\n3. Any relevant questions or specific details (e.g., product features, intended use, etc.).\nReturn the response as a JSON object with the keys: \"customer_name\", \"products_of_interest\", and \"questions\".\nEmail content:\n{email_content}",
  "inquiry_response": "You are a helpful and professional assistant working for a fashion store. Based on the following customer inquiry and a list of relevant products from the store catalog, generate a friendly, professional response. Answer the customer's questions, suggest relevant products, and provide an upbeat closing.\n\nCustomer Inquiry Details:\n- Customer Name: {customer_name}\n- Products of Interest: {products_of_interest}\n- Questions: {questions}\n\nRelevant Products:\n{closest_products_str}\n\nWrite the response as if you're addressing {customer_name} directly.\nConclude the response with a friendly salutation and mention that the customer can contact the store for further assistance. The email will be from Customer Support.",
  "classify_email": "You are a classifier that determines whether an email is an 'order request' or a 'product inquiry.'\nEnsure the classification is based on explicit details.\n\nGuidelines:\n1. If the Email subject contains (e.g., words like 'inquiry', 'shopping', 'looking for', or 'want to know') classify as 'product inquiry' unless the Email content contains explicit order instruction, such as quantity and a specific product or Product ID\n2. If the email is **explicitly placing an order** (e.g., specifying quantity, payment details), classify it as 'order request'.\n3. The subject of the email can provide additional context. If the subject suggests an inquiry (e.g., words like 'buy', 'purchase', 'order', 'ordering'), this indicates that this is likely an 'order request'\n\nIn the Email content, you must be able to determine a quantity, a product, and explicit words or phrases that strongly indicate an intent to buy to be classified an 'order request'\n\nMost important. If there is doubt, classify as 'product inquiry'!!!\n\nEmail subject:\n{subject}\nEmail content:\n{message}",
  "order_extract": "You are a customer support assistant. Read the following email and extract order details only for products that the customer explicitly wants to purchase now.\n\nIgnore any comments about previously purchased products or future purchases.\n\nFor each item mentioned in the order, determine:\n1. Product ID (if explicitly mentioned). If the Product ID contains spaces, remove the spaces and ensure it is exactly 7 characters long.\n2. Product description (if no Product ID is provided, use the description).\n3. Quantity (extract the number of items requested).\n\nFor Quantity, determine a specific integer quantity associated with each product.\nIf the customer asks for something vague like 'few', assume it means a small number based on stock availability (e.g., 3).\nIf the customer asks for 'all available' or 'whatever you have', return 1000.\nIf the quantity is unspecified or unclear, assume the default quantity is 1.\n\nReturn a structured response listing each product the customer explicitly wants to purchase now, its ID or description, and the quantity requested.\n\nReturn the information in a list of JSON objects, one for each product. The format should be a list like:\n\n[\n    {{\"Product ID\": \"ABC1234\", \"Product description\": \"Blue Jeans\", \"Quantity\": 1}},\n    {{\"Product ID\": \"XYZ5678\", \"Product description\": \"T-shirt\", \"Quantity\": 2}}\n]\n\nIf \"Product ID\" is not exactly 7 characters and adheres to this format \"ABC1234\", then set \"Product ID\" : \"\"\n\nEmail content:\n{email_content}",
  "order_response": "Write a professional and cohesive email to a customer based on the following order summary: {summary_string}\n\nIf a product has both quantity_filled > 0 and quantity_unfilled > 0, congratulate the customer on the filled portion and apologize for the unfilled portion. Recommend other items based on the provided product names, IDs, and descriptions: {similar_items}. Ensure recommendations are distinct from ordered products, use their names and concise descriptions, and relate them to the customer's inquiry context from {email_content} (e.g., for a boutique shop, highlight suitability for retail). For example, 'We recommend the Sleek Wallet (SWL2345), with multiple card slots and a stylish design, perfect for your boutiqueâ€™s clientele.'\n\nThe original email mentions the following context: {email_content}\n\nIf the customer mentioned their name or if the item was for a specific purpose (e.g., gift, boutique shop), personalize the response. If no name is mentioned, use 'Dear Customer.'\n\nDo not include placeholders like [Your Name], [Your Position], or [Your Contact Information].\n\nEnd with a friendly salutation signed Customer Service.",
  "order_extract_mentions": "You are a customer support assistant. Read the following email and extract a JSON list of products explicitly mentioned by the customer for future or past purchases.\nFor each mentioned product, provide the following details if available:\n1. Product ID (if explicitly mentioned)\n2. Product description (if no Product ID is provided, use the description)\n\nEmail content:\n{email_content}"
}
