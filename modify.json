{
  "_id": "689bd76a9db93c35d063135c",
  "prompt_name": "extract_info",
  "project": "customer_agent",
  "type": "production",
  "role": "user",
  "prompt_type": "extraction",
  "content": "{\n  \"input\": \"Use the email subject ({subject}) and message ({message}) for extraction.\",\n  \"task_1\": \"Extract customer details, returning a JSON object with fields: first_name, last_name, title, category, products_purchase, products_inquiry, occasion.\",\n  \"task_2\": \"Set first_name to the customer's first name; if absent, use 'none'. Do not use names referenced in the content (e.g., mentioned products or other people).\",\n  \"task_3\": \"Set last_name to the customer's last name; if absent, use 'none'. Do not use names referenced in the content.\",\n  \"task_4\": \"Set title to the customer's title (e.g., Mr., Mrs., Dr., Rev.); if absent, use 'none'.\",\n  \"task_5\": \"Set category to one of: 'order', 'inquiry', 'complaint', 'status', 'unknown'. Assessing the customer's primary intent in the message is the most important aspect. Use 'order' if products_purchase is non-empty; otherwise, determine intent as 'inquiry' for product questions, 'complaint' for dissatisfaction, 'status' for order status checks, or 'unknown' if unclear.\",\n  \"task_6\": \"Set products_purchase to a list of objects, each with product_name, product_description, quantity (integer, default 1 if unspecified), and product_id (7-character string) for products the customer explicitly intends to buy. Set any missing field to 'none' except quantity, which defaults to 1. Return [] if no purchase intent.\",\n  \"task_7\": \"Set products_inquiry to a list of objects, each with product_name, product_description, quantity (integer, default 1 if unspecified), and product_id (7-character string) for products the customer is asking about without purchase intent. Set any missing field to 'none' except quantity, which defaults to 1. Return [] if no inquiry.\",\n  \"task_8\": \"Set occasion to the primary occasion (e.g., birthday, anniversary); if multiple, choose the most prominent; if none, use 'none'.\",\n  \"example_output\": \"{\\\"first_name\\\": \\\"John\\\", \\\"last_name\\\": \\\"Doe\\\", \\\"title\\\": \\\"Mr.\\\", \\\"category\\\": \\\"order\\\", \\\"products_purchase\\\": [{\\\"product_name\\\": \\\"Neon Socks\\\", \\\"product_description\\\": \\\"Bright neon socks\\\", \\\"quantity\\\": 2, \\\"product_id\\\": \\\"NOS1745\\\"}], \\\"products_inquiry\\\": [{\\\"product_name\\\": \\\"none\\\", \\\"product_description\\\": \\\"none\\\", \\\"quantity\\\": \\\"none\\\", \\\"product_id\\\": \\\"none\\\"}], \\\"occasion\\\": \\\"birthday\\\"}\",\n  \"restrictions\": \"Ensure output is a valid JSON object. If unclear, set category to 'unknown', first_name, last_name, title to 'none', and products_purchase, products_inquiry to [].\"\n}"
}
